<?php

namespace BrainGames\cli;

use function cli\line;
use function cli\prompt;

require_once 'brain-games';

function isCorrectedAnswer(string $useranswer):bool{
    $corranswers = ['yes', 'no'];
    return in_array($useranswer, $corranswers);
}

function getCorrectAnswer(int $num):string{
    if ($num %2 == 0) return 'yes';
    else return 'no';
}

$endmsg = "Congratulations, {$name}!";

line('Answer "yes" if the number is even, otherwise answer "no".');

for ($i = 0; $i < 3; $i++){
    
    $num = rand();
    
    line("Question: {$num}");
    
    $useranswer = prompt('Your answer');
    $correctanswer = getCorrectAnswer($num); 
    
    if ((!isCorrectedAnswer($useranswer))||($useranswer != $correctanswer)){
        line("'{$useranswer}' is wrong answer ;(. Correct answer was '{$correctanswer}'.");
        $endmsg = "Let's try again, {$name}!";
        break;
    }
    
    line("Correct!");    
}

line($endmsg);
